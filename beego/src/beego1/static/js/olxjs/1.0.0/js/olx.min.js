/*!
 * Olx v0.0.1 (http://www.foreworld.net)
 * Copyright 2013 Foreworld.Net, Inc.
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 */
;if(typeof jQuery==="undefined"){throw new Error("Olx requires jQuery")}(function(a,b){a.fn.olxCookie=function(d){var c=document.cookie.match(new RegExp("(^| )"+d+"=([^;]*)(;|$)"));return !c?"":unescape(c[2])};a.fn.olxQueryString=function(e){var d=window.location.search;var c=new RegExp(""+e+"=([^&?]*)","ig");return((d.match(c))?(d.match(c)[0].substr(e.length+1)):"")};a.fn.olxAjax=function(d,e,c){a.ajax({url:a.fn.olxUtilRandomUrl(d),type:"POST",dataType:"json",data:{data:JSON.stringify(e)}}).done(function(f){c(f)})};a.fn.olxUtilRandomUrl=function(d){var c=[];c[0]=d;c[1]=(d+"").indexOf("?")==-1?"?":"&";c[2]="ts=";c[3]=Date.parse(new Date())/1000;return c.join("")};a.fn.olxUtilLoad=function(c,e,f){var d=this;a.ajax({url:a.fn.olxUtilRandomUrl(c),type:"POST",dataType:"html",data:e}).done(function(k){var h=d.parent();var j=h.children().length-1;var i=d.prev();var g=d.next();d.remove();if(j){if(i.length){i.after(k)}else{g.before(k)}}else{h.append(k)}}).complete(f);return this};a.fn.olxUtilLoad2=function(c,e,f){var d=this;a.ajax({url:a.fn.olxUtilRandomUrl(c),type:"GET",dataType:"json"}).done(function(k){var h=d.parent();var j=h.children().length-1;var i=d.prev();var g=d.next();d.remove();if(k.success){if(j){if(i.length){i.after(k.data)}else{g.before(k.data)}}else{h.append(k.data)}}}).complete(f);return this}})(jQuery);(function(d,f){var b=function(h,g){this._element=d(h);this.options=g};b.prototype.selectAll=function(){return"huangxin"};b.prototype.loadData=function(i){var h=this._element,g=h.data("url"),j=h.attr("id");d(h).olxUtilLoad2(g,i[0],function(){e(d("#"+j));var k=i[1];k.apply(this,arguments)})};b.prototype.getCheckedRowsValue=function(g){var h=[];this.getCheckedRows(g).each(function(){h.push(d(this).val())});return h};b.prototype.getCheckedRowsCheckbox=function(g){var h=[];this.getCheckedRows(g).each(function(){h.push(d(this))});return h};b.prototype.getCheckedRowsCount=function(g){return this.getCheckedRows(g).length};b.prototype.getCheckedRows=function(g){return this._element.find("tbody tr td:nth-child("+g+") input:checkbox:checked")};b.prototype.getRowsNum=function(){return this._element.find("tbody tr").length};b.prototype.getColumnCount=function(){return this._element.find("thead tr th").length};var a=d.fn.olxGrid;d.fn.olxGrid=function(h,k){var j=d(this);var i=j.data("olx.grid");var g=typeof h=="object"&&h;if(!i){j.data("olx.grid",(i=new b(this,g)))}return i[h](k)};d.fn.olxGrid.Constructor=b;d.fn.olxGrid.noConflict=function(){d.fn.olxGrid=a;return this};function e(j){var g=j.find("thead tr th input[type='checkbox']");for(var h=0;h<g.length;h++){(function(o){var l=o.parent().index();l++;var n=j.find("tbody tr td:nth-child("+l+") input[type='checkbox']");d(o).bind("change",function(){var q=d(this).is(":checked");for(var p=0;p<n.length;p++){d(n[p]).prop("checked",q)}});for(var m=0,k=n.length;m<k;m++){d(n[m]).bind("change",function(){var q,p=d(this).is(":checked");if(p){q=0;for(var i=0;i<k;i++){if(!d(n[i]).prop("checked")){break}q++}o.prop("checked",k===q)}else{o.prop("checked",p)}})}})(d(g[h]))}}function c(){var k=d("table[data-olx-type='olx.grid']");var h,g;for(h=0,g=k.length;h<g;h++){e(d(k[h]))}}d(document).ready(function(){c()})})(jQuery);(function(d,f){var e=function(h,g){this._element=d(h);this.options=g};e.prototype.turnPage=function(i){var g=this._element;var h=g.data("target");var j=[];j.push(i[0]);j.push(function(){a(g);var k=i[1];k.apply(this,arguments)});d(h).olxGrid("loadData",j)};e.prototype.init=function(){console.log(arguments)};var b=d.fn.olxPagination;d.fn.olxPagination=function(h,k){var j=d(this);var i=j.data("olx.pagination");var g=typeof h=="object"&&h;if(!i){j.data("olx.pagination",(i=new e(this,g)))}return i[h](k)};d.fn.olxPagination.Constructor=e;d.fn.olxPagination.noConflict=function(){d.fn.olxPagination=b;return this};function a(s){var q=s.data("target"),n,l,g=d(q),p=g.data("count"),k=g.data("pagesize"),r=g.data("current"),o=[],h=Math.ceil(p/k),m=s.attr("id");o.push('<li><span>第<span class="text-success">'+r+'</span>页 共<span class="text-success">'+p+"</span>条</span></li>");if(1==r){o.push('<li class="disabled"><a href="javascript:void(0);">首页</a></li>')}else{o.push('<li><a href="javascript:void(0);" onclick="'+m+'(1);"))>首页</a></li>')}if(1==r){o.push('<li class="disabled"><a href="javascript:void(0);">上页</a></li>')}else{o.push('<li><a href="javascript:void(0);" onclick="'+m+"("+(r-1)+');"))>上页</a></li>')}if(h==r){o.push('<li class="disabled"><a href="javascript:void(0);">下页</a></li>')}else{o.push('<li><a href="javascript:void(0);" onclick="'+m+"("+(r+1)+');"))>下页</a></li>')}if(h==r){o.push('<li class="disabled"><a href="javascript:void(0);">尾页</a></li>')}else{o.push('<li><a href="javascript:void(0);" onclick="'+m+"("+h+');"))>尾页</a></li>')}s.html(o.join(""))}function c(){var k=d("ul[data-olx-type='olx.pagination']"),h,g;for(h=0,g=k.length;h<g;h++){a(d(k[h]))}}d(document).ready(function(){c()})})(jQuery);(function(d,e){var c=function(g,f){this._element=d(g);this.options=f};c.prototype.init=function(){var g=this,f=this._element;f.on("reset",function(){return g.reset()})};c.prototype.validate=function(){var k=this._element,g,f,m,h=k.find("[data-olx-type^='olx.form.']"),l;for(g=0,f=h.length;g<f;g++){m=d(h[g]);switch(m.data("olx-type")){case"olx.form.input":l=m.olxFormInput("validate");break;default:break}if(!l){break}}return l};c.prototype.serializeObjectForm=function(){var i=this._element.serializeArray();var h=_.pluck(i,"name");var g=_.pluck(i,"value");var f=_.object(h,g);return f};c.prototype.submit=function(l){var h=this;var k=h.serializeObjectForm();var g=l[0],f=l[1],j=g(k),i=h._element[0];if(j){return f(j)}d(h).olxAjax(h._element.data("url"),k,l[2]);return false};c.prototype.reset=function(){console.log("reset");return true};var b=d.fn.olxForm;d.fn.olxForm=function(g,j){var i=d(this);var h=i.data("olx.form");var f=typeof g=="object"&&g;if(!h){i.data("olx.form",(h=new c(this,f)))}return h[g](j)};d.fn.olxForm.Constructor=c;d.fn.olxForm.noConflict=function(){d.fn.olxForm=b;return this};function a(){var f=d("form[data-olx-type='olx.form']"),h,g;for(h=0,g=f.length;h<g;h++){d(f[h]).olxForm("init")}}d(document).ready(function(){a()})})(jQuery);(function(b,d){var c=function(f,e){this._element=b(f);this.options=e};c.prototype.validate=function(e){var f=this._element;f.tooltip("enable");f.attr("data-original-title",e[0]);f.tooltip("toggle");f.focus();return false};var a=b.fn.olxFormInput;b.fn.olxFormInput=function(f,i){var h=b(this);var g=h.data("olx.form.input");var e=typeof f=="object"&&f;if(!g){h.data("olx.form.input",(g=new c(this,e)))}return g[f](i)};b.fn.olxFormInput.Constructor=c;b.fn.olxFormInput.noConflict=function(){b.fn.olxFormInput=a;return this}})(jQuery);(function(b,c){function d(g){var f=document.documentElement,e=document.body;window.onscroll=h;g.onclick=function(){g.style.display="none";window.onscroll=null;this.timer=setInterval(function(){f.scrollTop-=Math.ceil((f.scrollTop+e.scrollTop)*0.1);e.scrollTop-=Math.ceil((f.scrollTop+e.scrollTop)*0.1);if((f.scrollTop+e.scrollTop)==0){clearInterval(g.timer,window.onscroll=h)}},10)};function h(){g.style.display=(f.scrollTop+e.scrollTop>100)?"block":"none"}}function a(){var g=b("div[data-olx-type='olx.backTop']"),f,e;for(f=0,e=g.length;f<e;f++){d(g[f])}}b(document).ready(function(){a()})})(jQuery);